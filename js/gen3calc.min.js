function DamageCalc(){for(input=document.getElementById("calcInput").elements,L=input.attackerLevel.value,A=input.attackerAtkStat.value,BP=input.attackerMoveBP.value,atkStage=input.attackerAtkStage.value,D=input.defenderDefStat.value,HP=input.defenderHPStat.value,defStage=input.defenderDefStage.value,weathercheck=radioValue("weathercheck"),output="Level "+L+" ",atkStage>=0&&(output+="+"),output+=atkStage+" "+A+" with "+BP+"BP",output+=" vs ",defStage>=0&&(output+="+"),output+=defStage+" "+D+" with "+HP+"HP:\n",input.badgeBoostAtk.checked&&(A=Math.trunc(1.1*A)),input.badgeBoostDef.checked&&(D=Math.trunc(1.1*D)),input.itemBoost.checked&&(A=Math.trunc(1.1*A)),input.abilityBoost.checked&&(BP=Math.trunc(1.5*BP)),atkStage>0?SM=(10+5*atkStage)/10:atkStage<0?SM=10/(10+-5*atkStage):SM=1,A=Math.trunc(A*SM),defStage>0?SM=(10+5*defStage)/10:defStage<0&&(SM=10/(10+-5*defStage)),D=Math.trunc(D*SM),basedamage=Math.trunc(Math.trunc(Math.trunc(2*L/5+2)*A*BP/D)/50),input.doublecheck.checked?doublecheck=!0:doublecheck=!1,input.lsrefcheck.checked?lsrefcheck=!0:lsrefcheck=!1,lsrefcheck&&!1===doublecheck?basedamage=Math.trunc(basedamage/2):lsrefcheck&&doublecheck&&(basedamage=Math.trunc(2*basedamage/3)),"y"==doublecheck&&(basedamage=Math.trunc(basedamage/2)),"goodweather"==weathercheck&&(basedamage=Math.trunc(1.5*basedamage)),"badweather"==weathercheck&&(basedamage=Math.trunc(basedamage/2)),basedamage+=2,input.stabcheck.checked&&(basedamage=Math.trunc(1.5*basedamage)),damage=basedamage*radioValue("typeeffect"),missedrange=0,i=85;i<101;i++)roll=Math.trunc(damage*i/100),HP-roll>0&&(missedrange+=1);OHKO=(16-missedrange)/16*100,minroll=Math.trunc(85*damage/100),percminroll=minroll/HP*100,percdamage=damage/HP*100,output+=minroll+" ("+percminroll+"%) ",output+=" - ",output+=damage+" ("+percdamage+"%)\n",output+=OHKO+"% chance to OHKO",outputarea=document.getElementsByName("outputarea")[0],outputarea.innerHTML=output,0==OHKO?outputarea.className="lives":100==OHKO?outputarea.className="kill":outputarea.className="range"}function radioValue(e){rObj=document.getElementsByName(e);for(var t=0;t<rObj.length;t++)if(rObj[t].checked)return rObj[t].value;return!1}function openTypePicker(e){pickerDIV=document.getElementById("typePicker"),"AtkType"==e?(pickerDIV.getElementsByTagName("span")[0].innerHTML="Choose the Attack Type:",pickerDIV.style.left="922px",pickerDIV.style.top="134px",currentPick="AtkType",$(pickerDIV.getElementsByTagName("img")[0]).hide()):"DefTypeA"==e?(pickerDIV.getElementsByTagName("span")[0].innerHTML="Choose the Defender's first type:",pickerDIV.style.left="922px",pickerDIV.style.top="190px",currentPick="DefTypeA",$(pickerDIV.getElementsByTagName("img")[0]).hide()):(pickerDIV.getElementsByTagName("span")[0].innerHTML="Choose the Defender's secondary type:",pickerDIV.style.left="1012px",pickerDIV.style.top="190px",currentPick="DefTypeB",$(pickerDIV.getElementsByTagName("img")[0]).show()),$(pickerDIV).show(),$(document.getElementById("typePicker-clicktrap")).show()}function pickType(e){document.getElementById(currentPick+"Img").src="i/"+e+".gif","AtkType"==currentPick?(AtkType=e,console.log("Picked AtkType ",e)):"DefTypeA"==currentPick?(DefTypeA=e,console.log("Picked DefTypeA ",e)):(DefTypeB=e,console.log("Picked DefTypeB ",e)),$("#typePicker").hide(),$("#typePicker-clicktrap").hide(),document.getElementById("typeEffectHelpOutput").innerHTML=typeReference[AtkType][DefTypeA]*typeReference[AtkType][DefTypeB],document.getElementById("MoveType").src="i/"+typeReference[AtkType].type+".png",document.getElementById("MoveTypeText").innerHTML=typeReference[AtkType].type}var currentPick="AtkType",AtkType="normal",DefTypeA="normal",DefTypeB="none",typeReference={normal:{type:"Physical",none:1,normal:1,fire:1,water:1,grass:1,electric:1,ice:1,psychic:1,ghost:0,dark:1,poison:1,ground:1,rock:.5,steel:.5,fighting:1,flying:1,bug:1,dragon:1},fire:{type:"Special",none:1,normal:1,fire:.5,water:.5,grass:2,electric:1,ice:2,psychic:1,ghost:1,dark:1,poison:1,ground:1,rock:.5,steel:2,fighting:1,flying:1,bug:2,dragon:.5},water:{type:"Special",none:1,normal:1,fire:2,water:.5,grass:.5,electric:1,ice:1,psychic:1,ghost:1,dark:1,poison:1,ground:2,rock:2,steel:1,fighting:1,flying:1,bug:1,dragon:.5},grass:{type:"Special",none:1,normal:1,fire:.5,water:2,grass:.5,electric:1,ice:1,psychic:1,ghost:1,dark:1,poison:.5,ground:2,rock:2,steel:.5,fighting:1,flying:.5,bug:.5,dragon:.5},electric:{type:"Special",none:1,normal:1,fire:1,water:2,grass:.5,electric:.5,ice:1,psychic:1,ghost:1,dark:1,poison:1,ground:0,rock:1,steel:1,fighting:1,flying:2,bug:1,dragon:.5},ice:{type:"Special",none:1,normal:1,fire:.5,water:.5,grass:2,electric:1,ice:.5,psychic:1,ghost:1,dark:1,poison:1,ground:2,rock:1,steel:.5,fighting:1,flying:2,bug:1,dragon:2},psychic:{type:"Special",none:1,normal:1,fire:1,water:1,grass:1,electric:1,ice:1,psychic:.5,ghost:1,dark:0,poison:2,ground:1,rock:1,steel:.5,fighting:2,flying:1,bug:1,dragon:1},ghost:{type:"Special",none:1,normal:0,fire:1,water:1,grass:1,electric:1,ice:1,psychic:2,ghost:2,dark:.5,poison:1,ground:1,rock:1,steel:.5,fighting:1,flying:1,bug:1,dragon:1},dark:{type:"Special",none:1,normal:1,fire:1,water:1,grass:1,electric:1,ice:1,psychic:2,ghost:2,dark:.5,poison:1,ground:1,rock:1,steel:.5,fighting:.5,flying:1,bug:1,dragon:1},poison:{type:"Physical",none:1,normal:1,fire:1,water:1,grass:2,electric:1,ice:1,psychic:1,ghost:.5,dark:1,poison:.5,ground:.5,rock:.5,steel:0,fighting:1,flying:1,bug:1,dragon:1},ground:{type:"Physical",none:1,normal:1,fire:2,water:1,grass:.5,electric:2,ice:1,psychic:1,ghost:1,dark:1,poison:2,ground:1,rock:2,steel:2,fighting:1,flying:0,bug:.5,dragon:1},rock:{type:"Physical",none:1,normal:1,fire:2,water:1,grass:1,electric:1,ice:2,psychic:1,ghost:1,dark:1,poison:1,ground:.5,rock:1,steel:.5,fighting:.5,flying:2,bug:2,dragon:1},steel:{type:"Physical",none:1,normal:1,fire:.5,water:.5,grass:1,electric:.5,ice:2,psychic:1,ghost:1,dark:1,poison:1,ground:1,rock:2,steel:.5,fighting:1,flying:1,bug:1,dragon:1},fighting:{type:"Physical",none:1,normal:2,fire:1,water:1,grass:1,electric:1,ice:2,psychic:.5,ghost:0,dark:2,poison:.5,ground:1,rock:2,steel:2,fighting:1,flying:.5,bug:.5,dragon:1},flying:{type:"Physical",none:1,normal:1,fire:1,water:1,grass:2,electric:.5,ice:1,psychic:1,ghost:1,dark:1,poison:1,ground:1,rock:.5,steel:.5,fighting:2,flying:1,bug:2,dragon:1},bug:{type:"Physical",none:1,normal:1,fire:.5,water:1,grass:2,electric:1,ice:1,psychic:2,ghost:.5,dark:2,poison:.5,ground:1,rock:1,steel:.5,fighting:.5,flying:.5,bug:1,dragon:1},dragon:{type:"Special",none:1,normal:1,fire:1,water:1,grass:1,electric:1,ice:1,psychic:1,ghost:1,dark:1,poison:1,ground:1,rock:1,steel:.5,fighting:1,flying:1,bug:1,dragon:2},blankcopy:{type:"Physical",none:1,normal:1,fire:1,water:1,grass:1,electric:1,ice:1,psychic:1,ghost:1,dark:1,poison:1,ground:1,rock:1,steel:1,fighting:1,flying:1,bug:1,dragon:1}};
//see gen3calc.js and typeeffect.js for pretty code